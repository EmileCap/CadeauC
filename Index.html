<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Je t'aime â¤ï¸</title>

    <link rel="stylesheet" href="style/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/x-icon" href="style/image/Icone.ico" />
  </head>
  <body>
    <header>
      <h1>â¤ï¸Saint Valentinâ¤ï¸</h1>
    </header>

    <h1 class="Titre">Je t'aime Clarisse</h1>

    <main class="main-grid">

      <section class="block carrousel-block">
        <div class="carousel-container">
          <div class="carousel-slide active">
            <img src="style/image/2.jpg" alt="Moment 1" />
          </div>
          <div class="carousel-slide">
            <img src="style/image/1.jpg" alt="Moment 2" />
          </div>
          <div class="carousel-slide">
            <img src="style/image/3.jpg" alt="Moment 3 â¤ï¸" />
          </div>

          <button class="prev">&#10094;</button>
          <button class="next">&#10095;</button>
        </div>
      </section>


      <section class="block compteur-block">
        <h2>Depuis quâ€™on est ensemble ğŸ’–</h2>
        <p id="timer">0 jours 0 heures 0 minutes 0 secondes</p>
      </section>


      <section class="block">
        <h2>Ce que j'aime chez toi</h2>
        <br />
        <p id="gÃ©nÃ©rationListe">TOUT</p>
        <br />
        <button id="btnGene">APPPUIEEEEEE</button>
      </section>


      <section class="block">
        <h2>ğŸª Cookies ğŸª</h2>

        <p>
          <strong>IngrÃ©dients</strong><br />
          100 g beurre â€¢ 80 g sucre<br />
          1 Å“uf â€¢ 150 g farine<br />
          1/2 sachet levure â€¢ PÃ©pites ğŸ«
        </p>

        <p>
          <strong>PrÃ©paration</strong><br />
          MÃ©lange beurre + sucre<br />
          Ajoute lâ€™Å“uf<br />
          Incorpore farine + levure<br />
          Four 180Â°C â€“ 10/12 min
        </p>

        <p>Faits avec â¤ï¸</p>
      </section>
    </main>

    <footer>
      <p>CrÃ©er a la main pour la plus belle de toute les FEMMES â¤ï¸</p>
    </footer>

    <script>
      // CARROUSEL
      const slides = document.querySelectorAll(".carousel-slide");
      const prevBtn = document.querySelector(".prev");
      const nextBtn = document.querySelector(".next");
      let currentIndex = 0;

      function showSlide(index) {
        slides.forEach((slide) => slide.classList.remove("active"));
        slides[index].classList.add("active");
      }

      prevBtn.addEventListener("click", () => {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        showSlide(currentIndex);
      });

      nextBtn.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
      });

      showSlide(currentIndex);

      // COMPTEUR
      const startDate = new Date("2025-12-14T16:23:00");
      const timerElement = document.getElementById("timer");

      function updateTimer() {
        const now = new Date();
        const diff = now - startDate;

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        timerElement.textContent = `${days} jours ${hours} heures ${minutes} minutes ${seconds} secondes`;
      }

      setInterval(updateTimer, 1000);
      updateTimer();

      let liste = [];

      // Charger le fichier JSON
      fetch("txt.json")
        .then((response) => response.json())
        .then((data) => {
          liste = data.liste;
        })
        .catch((error) => {
          console.error("Erreur lors du chargement du JSON :", error);
        });

      // Bouton
      const bouton = document.getElementById("btnGene");
      const texte = document.getElementById("gÃ©nÃ©rationListe");

      bouton.addEventListener("click", () => {
        if (liste.length === 0) {
          texte.textContent = "Chargement en cours...";
          return;
        }

        const aleatoire = Math.floor(Math.random() * liste.length);
        texte.textContent = liste[aleatoire];
      });
    </script>
  </body>
</html>
